<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Confirmar Actividades</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1>Actividades Pendientes de Validación</h1>

        <table class="table table-striped">
            <thead>
                <tr>
					<th>ID</th>
                    <th>ID Actividad</th>
                    <th>Actividad</th>
                    <th>Árboles Plantados</th>
                    <th>Equipo</th>
                    <th>Foto Evidencia</th>
                    <th>Acciones</th>
                </tr>
            </thead>
			<tbody>
			    <tr th:each="item : ${actividadesConPorcentaje}">
					<td th:text="${item.actividad.id_registroactividadrealizada}"></td>
			        <td th:text="${item.actividad.id_tipoActividades}"></td>
			        <td th:text="${item.actividad.descripcion}"></td>
			        <td th:text="${item.actividad.cantidad_realizada}"></td>
			        <td th:text="${item.actividad.id_voluntario}"></td>
			        <td>
			            <img th:src="${item.actividad.foto}" alt="Evidencia" class="img-thumbnail" width="100">
			        </td>
			        <td th:text="${item.porcentaje} + '%'"></td> <!-- Mostrar el porcentaje aquí -->
			        <td>
			            <form th:action="@{/registro-actividad/confirmar_actividad/{id}(id=${item.actividad.id_registroactividadrealizada})}" method="get">
			                <button type="submit" 
			                        class="btn" 
			                        th:class="${item.actividad.validacion_admin_tareaRealizada} ? 'btn-success' : 'btn-danger'"
			                        th:disabled="${item.actividad.validacion_admin_tareaRealizada}">
			                    Confirmar
			                </button>
			            </form>
						<a th:href="@{/registro-actividad/informacion_registroacti_real/{idRegistro}(idRegistro=${item.actividad.id_registroactividadrealizada})}" class="btn btn-info">Más Información</a>
			        </td>
			    </tr>
			</tbody>
        </table>
    </div>
</body>
</html>